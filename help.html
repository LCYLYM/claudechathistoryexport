<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude对话管理器 - 使用帮助</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
            color: #333;
        }

        .header p {
            font-size: 18px;
            color: #666;
        }

        .section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .section h2 {
            font-size: 24px;
            margin-bottom: 20px;
            color: #333;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }

        .section h3 {
            font-size: 20px;
            margin: 20px 0 10px 0;
            color: #444;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            border-left: 4px solid #667eea;
        }

        .feature-card h4 {
            font-size: 16px;
            margin-bottom: 10px;
            color: #333;
        }

        .feature-card p {
            font-size: 14px;
            color: #666;
        }

        .step-list {
            counter-reset: step-counter;
        }

        .step-item {
            counter-increment: step-counter;
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            position: relative;
            padding-left: 50px;
        }

        .step-item::before {
            content: counter(step-counter);
            position: absolute;
            left: 15px;
            top: 15px;
            background: #667eea;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 12px;
        }

        .tip {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }

        .warning {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }

        .success {
            background: #e8f5e8;
            border-left: 4px solid #4caf50;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }

        .code {
            background: #f5f5f5;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 10px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
            margin: 10px 0;
        }

        .fish-footer {
            text-align: center;
            padding: 30px;
            color: rgba(255, 255, 255, 0.8);
            font-size: 18px;
        }

        .fish-animation {
            display: inline-block;
            animation: swim 2s ease-in-out infinite;
            cursor: pointer;
        }

        @keyframes swim {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(10px); }
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .feature-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🐟 Claude对话管理器</h1>
            <p>功能完整的Claude对话导出、可视化、存储管理解决方案</p>
        </div>

        <div class="section">
            <h2>🚀 快速开始</h2>
            <div class="step-list">
                <div class="step-item">
                    <strong>安装插件</strong><br>
                    在Chrome扩展管理页面加载已解压的扩展程序
                </div>
                <div class="step-item">
                    <strong>访问Claude对话页面</strong><br>
                    打开任何Claude对话页面（URL包含/chat/）
                </div>
                <div class="step-item">
                    <strong>使用控制面板</strong><br>
                    右侧会自动显示控制面板，选择用户ID并导出对话
                </div>
                <div class="step-item">
                    <strong>管理对话</strong><br>
                    点击插件图标或控制面板中的"管理"按钮打开管理中心
                </div>
            </div>
        </div>

        <div class="section">
            <h2>✨ 主要功能</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>🎯 智能用户ID检测</h4>
                    <p>多重拦截机制自动检测用户ID，支持手动输入和验证</p>
                </div>
                <div class="feature-card">
                    <h4>📊 多分支对话导出</h4>
                    <p>支持树形模式导出，完整保存对话的分支结构</p>
                </div>
                <div class="feature-card">
                    <h4>🎨 美观可视化界面</h4>
                    <p>支持Markdown渲染，工具调用可视化，响应式设计</p>
                </div>
                <div class="feature-card">
                    <h4>💾 本地存储管理</h4>
                    <p>自动保存导出的对话，支持搜索、批量管理</p>
                </div>
                <div class="feature-card">
                    <h4>🔧 强大调试工具</h4>
                    <p>详细的状态监控和网络拦截日志</p>
                </div>
                <div class="feature-card">
                    <h4>🐟 作者彩蛋</h4>
                    <p>生动的鱼儿动画和现代化UI设计</p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>📋 使用指南</h2>
            
            <h3>在Claude对话页面</h3>
            <div class="tip">
                <strong>提示：</strong>插件会自动在Claude对话页面显示控制面板
            </div>
            <ol>
                <li>访问任何Claude对话页面</li>
                <li>等待右侧控制面板出现</li>
                <li>从下拉菜单选择检测到的用户ID</li>
                <li>选择是否启用多分支模式</li>
                <li>点击"导出JSON"下载对话数据</li>
            </ol>

            <h3>使用可视化器</h3>
            <ol>
                <li>点击控制面板中的"可视化"按钮</li>
                <li>如果在对话页面，会自动加载当前对话</li>
                <li>否则可以拖拽或选择JSON文件</li>
                <li>查看美观的对话展示</li>
                <li>可导出为HTML文件</li>
            </ol>

            <h3>管理已保存的对话</h3>
            <ol>
                <li>点击插件图标选择"管理中心"</li>
                <li>使用搜索框查找特定对话</li>
                <li>点击对话卡片上的按钮进行操作</li>
                <li>支持查看、导出、删除等操作</li>
            </ol>
        </div>

        <div class="section">
            <h2>🔧 故障排除</h2>
            
            <h3>常见问题</h3>
            
            <div class="warning">
                <strong>问题：</strong>控制面板不显示<br>
                <strong>解决：</strong>确保在Claude对话页面（URL包含/chat/），刷新页面重试
            </div>

            <div class="warning">
                <strong>问题：</strong>无法获取用户ID<br>
                <strong>解决：</strong>
                <ul>
                    <li>刷新页面等待API请求</li>
                    <li>在页面上进行操作（发送消息等）</li>
                    <li>使用调试功能手动输入用户ID</li>
                </ul>
            </div>

            <div class="warning">
                <strong>问题：</strong>可视化页面无反应<br>
                <strong>解决：</strong>
                <ul>
                    <li>确认JSON文件格式正确</li>
                    <li>检查浏览器控制台错误信息</li>
                    <li>尝试使用测试数据功能</li>
                </ul>
            </div>

            <h3>调试模式</h3>
            <div class="success">
                点击控制面板中的"调试"按钮可以：
                <ul>
                    <li>查看详细的状态信息</li>
                    <li>开启网络请求日志</li>
                    <li>手动输入用户ID</li>
                    <li>获取技术支持信息</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>🎯 测试功能</h2>
            <p>如果您想测试插件功能但没有真实的Claude对话数据，可以：</p>
            <ol>
                <li>打开管理中心</li>
                <li>点击"添加测试数据"按钮</li>
                <li>系统会自动生成包含各种消息类型的测试对话</li>
                <li>使用这些测试数据体验可视化和管理功能</li>
            </ol>
            
            <div class="tip">
                <strong>测试数据包含：</strong>多种消息类型、工具调用示例、Markdown格式文本、完整的对话结构
            </div>
        </div>

        <div class="section">
            <h2>📝 技术信息</h2>
            <div class="code">
版本：v2.0.0
兼容性：Chrome扩展 Manifest V3
技术栈：原生JavaScript + CSS3
存储：Chrome Storage API + localStorage备选
            </div>
            
            <h3>文件结构</h3>
            <div class="code">
├── manifest.json          # 插件配置
├── content.js             # 主功能脚本
├── popup.html/js          # 弹出窗口
├── viewer.html/js         # JSON可视化器
├── manager.html/js        # 管理中心
├── styles.css             # 样式文件
├── test-data.js           # 测试数据生成器
└── help.html              # 帮助页面
            </div>
        </div>
    </div>

    <div class="fish-footer">
        <span class="fish-animation" onclick="this.style.transform='rotate(360deg) scale(1.5)'; setTimeout(() => this.style.transform='', 1000)">🐟</span>
        感谢使用Claude对话管理器！
        <span class="fish-animation" onclick="this.style.transform='rotate(-360deg) scale(1.5)'; setTimeout(() => this.style.transform='', 1000)">🐟</span>
    </div>
</body>
</html>
